<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="iBoxDB,NoSQL,ORM,数据库,ACID,MVCC,Java,Android,Unity3D,Xamarin,数据库事务,应用程序,文档数据库">
    <meta name="description" content="双核高性能NoSQL数据库引擎 支持 JAVA .NET Unity Android Mono C# Linux Windows - iBoxDB">

    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="bookmark" href="favicon.ico" />

    <title>嵌入式NoSQL数据库 iBoxDB Java .NET ACiD 双核</title>

    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="highlight/styles/vs.css">
</head>

<body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer" style="border-bottom-style: solid; border-bottom-width: medium; border-bottom-color: #33CC00;">
        <header class="inner">

        	<a href="index.html"><div id="logo"></div>
            <h1 id="project_title">iBoxDB</h1></a>

			<h1 id="project_title_h1"> e^d = Ne^(Kd) </h1>
            <h2 id="project_title_h2"><div> &nbsp; &nbsp;
            cos { (1/2) ( y^(1/d) + (y^(-1/d)) ( 1 - (1-y)^(2/d) ) ) } <br> &nbsp; &nbsp; 
            projection { x = x*cos( a ) + k*cos( XtoK + a ) } 
            </h2>

            <h2 id="project_tagline">双核高效应用程序数据库引擎</h2>
            <div id="downloads">
                <a href="iboxdb-java-csharp-embedded-nosql-database.html#nosql_download">下载数据库</a>
            </div>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
        <section id="main_content" class="inner">

            <!-- key words -->
            <div style="width: 1px; height: 1px; overflow: hidden">
                
            </div>

            <h3>项目介绍</h3>

            <p>iBoxDB 是一个高能效的应用程序数据库，提供事务支持，使用数据库表的风格存取任意结构的文档对象数据，包含无须安装配置的 JAVA 与 .NET 数据库引擎。</p>

            <p>iBoxDB 提供一个优雅设计的编程接口，让应用程序无缝地与数据引擎溶为一体, 你能方便地把它发布到移动设备, 桌面设备和服务器上, 然后让它帮助你存取各种有结构的，或者无结构的数据，具备保持数据一致性的能力。</p>

            <p>
                双引擎数据库
                <br />
                支持 &nbsp; JAVA &nbsp; C# &nbsp; Android &nbsp; Unity3D &nbsp; Xamarin &nbsp; Mono &nbsp; ASP.NET Core &nbsp; Linux

            </p>


            <h3>特性</h3>

            <ul>
                <li>NoSQL 增删改查</li>
                <li>键表与键值表</li>
                <li>唯一或可重复的索引</li>
                <li>唯一或可重复的复合索引</li>
                <li>SQL 风格数据查询语言</li>
                <li>数据库事务支持</li>
                <li>并发控制，多线程安全</li>
                <li>多进程安全</li>
                <li>内存管理</li>
                <li>主从和多主的数据库热同步</li>
                <li>支持磁盘永久保存和全内存快速保存</li>
                <li>自动创建数据库文件</li>
                <li>零配置, 复制直接运行, 全受控代码</li>
                <li>动态列支持</li>
                <li>带不同索引的多个数据类型能存到同一个表中</li>
                <li>持久化 + 对象影射 + 缓存 + 嵌入式, 一站式解决方案</li>
                <li>Ason, 快速动态对象实例化</li>
                <li>结果集支持 LINQ 与 STREAM</li>
                <li>高性能无外部系统依赖</li>
                <li>事务抱团</li>
                <li>快读查询</li>
                <li>更新自增</li>
                <li>查询追溯</li>
                <li>两级事务隔离</li>
                <li>JAVA6+ &nbsp; .NET2+</li>
            </ul>

            <div>

            <br>
                <h3>示例</h3>

                <h5>每个 BOX 都是一个完全隔离的独立数据空间</h5>
                <div>
                    <pre><code class="cs">  using(var box = auto.Cube())
  {                            
     //select, insert, update, delete ...
     //replace()=(insert or update)
     var result = box.Commit();
  }
</code></pre> <br> 
                    <pre><code class="java">  try(Box box = auto.cube()){
     ...
     CommitResult r = box.commit();
  }  </code></pre>
                </div>
				Box 是本地变量，每个 Box 都是单独的事务。AutoBox 在单进程应用程序中可以用作全局变量。

				<br>
                <br>
                <h5>普通对象操作</h5>
                <div>
                    <pre><code class="cs">  box[&quot;Member&quot;].Insert(new Member() {  
       ID=box.NewId(),
       Name = &quot;Andy&quot;,
       Password = EncodePassowrd(&quot;123&quot;)
     }
  );
</code></pre> <br>
                    <pre><code class="java">  Member m = new Member();
  m.ID = box.newId();
  m.setName(&quot;Kevin&quot;);
  box.d(&quot;Member&quot;).insert(m); </code></pre>
                </div>

                <br>
                <h5>动态列的文档数据</h5>
                <div>
                    <pre><code class="cs">  //Game : Dictionary&lt;string, object&gt;
  game[&quot;GameType&quot;] = &quot;ACT&quot;;
  box[&quot;Product&quot;].Insert(game);
</code></pre> <br>
                    <pre><code class="java">  //Game extends HashMap&lt;String,Object&gt;
  game.put(&quot;GameType&quot;, &quot;ACT&quot;);
  box.d(&quot;Product&quot;).insert(game);  </code></pre>
                </div>

                <br>
                <h5>键-值风格的查询</h5>

                <div>
                    <pre><code class="cs">  box[&quot;Table&quot;, 2L].Select&lt;Member&gt;();
   //支持复合键
  box[&quot;Table2&quot;, 99, &quot;ABC&quot;].Select&lt;Product&gt;();
</code></pre> <br>
                    <pre><code class="java">  box.d(&quot;Table&quot;, 3L).select(Member.class);
   //支持复合键
  box.d(&quot;Table2&quot;, 88, &quot;ABC&quot;).select(Product.class);  </code></pre>
                </div>

                <br>
                <h5>复合键支持</h5>
				<pre><code class="java">config.ensureTable(Item.class, &quot;Item&quot;, &quot;UID&quot;, &quot;Type&quot;)</code></pre>
                <img src="images/compositekey.png" alt="iBoxDB Fast ACID NoSQL Application Database Composite Key" />
                
                <br>
                <h5>SQL 风格数据查询</h5>
                <div>
                    <pre><code class="cs">  //from TABLE where A&gt;? &amp; B&lt;=? order by C limit 0,10
  box.Select&lt;Member&gt;(&quot;from Member where Name==?&quot;, &quot;MyName&quot;);</code></pre>
                    <pre><code class="java">  //from [table] where [condition] 
  //                    order by [field1] desc,[field2] limit [0,10]
  //[Condition:] == != &lt; &lt;= &gt; &gt;= &amp; | ( )
  //[IFunction:] =[F1,F2,F3]
  box.select(Member.class, &quot;from Member where Name==?&quot;, &quot;MyName&quot;); </code></pre>
                </div>

                <h5>查询</h5>
                <pre><code class="cs">  box.Select(&quot;from Member&quot;);  </code></pre>

  				<h5>查询选项</h5>
                <pre><code class="cs">  //先加载到内存，使用 “*”.
  //因为操作系统有预读，这选项一般不需要, 
  box.Select(&quot;*from Member&quot;);
  //查询追溯 使用 “!”.
  box.Select(&quot;!from Member&quot;);  </code></pre>


                <br>
                <h5>弱类型支持</h5>
                <pre><code class="java">  //使用强类型
  box.select("from Table where Id > ?" , 1L);
  //使用弱类型
  box.select("from Table where Id > ?" , new Variant("1")); </code></pre>


  				<br />
                <h5>支持索引提升查询速度，平均快一百倍</h5>

                <pre><code class="cs">  //索引
  config.EnsureIndex&lt;Member&gt;(&quot;Member&quot;, &quot;Field1&quot;)
  config.ensureIndex(Member.class, &quot;Member&quot;, isUnique,&quot;Field1&quot;)</code></pre>

                <pre><code class="cs">  //复合索引
  config.EnsureIndex&lt;Member&gt;(&quot;Member&quot;, &quot;Field1&quot;,&quot;Field2&quot;)
  config.ensureIndex(Member.class, &quot;Member&quot;, isUnique,&quot;Field1&quot;,&quot;Field2&quot;)</code></pre>
  				<pre><code class="cs"> //两种索引都可以加速查询,随意选择.
 //但一个查询只会加载一个索引, 
 //同时使用两个会产生浪费.
 //一般索引已经足够快.
 //复合索引一般用于关联表主键，两个条件相等的情况
  box.Select(&quot;from Member where Field1 == ? &amp; Field2 == ?&quot;,arg1,arg2)</code></pre>

  <br />
  <pre><code class="cs">  //Id 在左边一般会更快
  box.Select(&quot;from Member where Id == ? &amp; Field == ?&quot;,id,arg)

  //主键同时也是主索引，可以创建复合索引包含主键
  //但主键是唯一的，所以第二个字段一般很少用到
  config.EnsureIndex(..., &quot;Id&quot;,&quot;Field&quot;)
  //交换顺序在一些情况下可能有用
  config.EnsureIndex(..., &quot;Field&quot;,&quot;Id&quot;)
  //具体可查看数组比较的方法
  //键值数据库一定有主键</code></pre>
  <br />
    <pre><code class="cs">  //合并结果会比 OR 条件更快,
  //取决于数据集的大小与索引设置.	
  //where Id == ? | Id == ? | Id == ?
  foreach(var id in [ 1, 2, 3 ])
    combiner.Add( box.Select(&quot;from Member where Id == ?&quot;,id) )</code></pre>


  				<br>
                <h5>自定义查询函数</h5>
                <div>
                    <pre><code class="cs">  box.Select&lt;Member&gt;(&quot;from Member where [Tags]&quot;, new IFunction(&quot;Value&quot;));</code></pre>
                </div>

				<br />
                <h5>自定义表-对象绑定</h5>
                <div>
                    <pre><code class="cs">  public bool Insert(Member m){
    return auto.Insert(nameof(Member), m);
  }</code></pre>
                </div>

                <br>
                <h5>兼容 LINQ (.NET)</h5>
                <div>
                    <pre><code class="cs">  from o in box.Select&lt;Class&gt;(&quot;from Class&quot;)
  where o.Text.Contains(text)
  select o;</code></pre>
                </div>

                <br>
                <h5>兼容 Stream (Java8)</h5>
                <div>
                    <pre><code class="java">  StreamSupport.stream(db.select(&quot;from Table&quot;).spliterator(), true)
  .collect(Collectors.groupingBy((l) -&gt; l.get(&quot;GroupID&quot;),
   Collectors.summingLong((l) -&gt; (Long) l.get(&quot;Value&quot;))));</code></pre>
                </div>

                <br>
                <h5>Ason 和 原型对象</h5>
                <div>
                    <pre><code class="java">  //定义原型, Id 是 Long		
  Ason prototype = new Ason("Id:", 0L, "Name:", "Guest");

  Ason record = prototype.select();
  //设置 Id 为 String,
  record.set("Id", "123");
  //自动转为定义原型的 Long
  System.out.println("Output: " + record.get("Id").getClass());
  //输出: class java.lang.Long
</code></pre>
                </div>

                <br />
                <h5>数据库热备份</h5>
                <div>
                    <pre><code class="cs">  auto.GetDatabase().CopyTo(bakAddr, bakRoot, buffer) </code></pre>
                </div>

 				<br />
                <h5>快读查询</h5>
                <div>
                    <pre><code class="cs">  //从小文件中直接查询数据，
  //不用启动数据库引擎                   
  IEnumerable records = DB.Select(fileAddress) </code></pre>
                </div>

                <br />
                <h5>事务抱团</h5>
                <div>
                    <pre><code class="cs">  //三个事务一起提交
  long huggersBuffer = 1024L * 1024L * 32L;                   
  box1.Commit(huggersBuffer);
  box2.Commit(huggersBuffer);
  box3.Commit(); </code></pre>
                </div>

                <br />
                <h5>可编程热同步,下载文件了解详细内容</h5>
                <pre><code class="java">  //主-主
  BoxData.masterReplicate();  
  //主-从
  BoxData.slaveReplicate();</code></pre>
                </div>

                <br>
                <h5>更新自增</h5>

                <table style="width: 100%">
                    <tr>
                        <th></th>
                        <th>作用域 </th>
                        <th>触发条件 </th>
                        <th>数据类型 </th>
                        <th>数据来源 </th>
                    </tr>
                    <tr>
                        <td style="font-weight: bold">更新自增</td>
                        <td >索引</td>
                        <td>插入/更新</td>
                        <td>长整数</td>
                        <td >Database NewId (MaxPos,1)</td>
                    </tr>
                    <tr>
                        <td>主键自增</td>
                        <td>主键</td>
                        <td>插入</td>
                        <td>数字</td>
                        <td>Table Max (ID)+1</td>
                    </tr>

                </table>

                <br>
                <h5>查询追溯</h5>

                <table style="width: 100%">
                    <tr>
                        <th></th>
                        <th>线程 </th>
                        <th>用法 </th>
                    </tr>
                    <tr>
                        <td style="font-weight: bold">查询追溯</td>
                        <td>不阻塞 </td>
                        <td>读写不同的数据行 </td>
                    </tr>
                    <tr>
                        <td>数据锁 </td>
                        <td>阻塞 </td>
                        <td>读写同一数据行</td>
                    </tr>

                </table>

                <br>
                <h5>Snapshot-Serializable 两级事务</h5>
                <table style="width: 100%">
                    <tr>
                        <th>程序区域</th>
                        <th>隔离级别</th>

                    </tr>
                    <tr>
                        <td>应用程序</td>
                        <td>Snapshot</td>
                    </tr>
                    <tr>
                        <td>数据库</td>
                        <td>Serializable</td>
                    </tr>
                </table>
                  <pre style="margin: 0px; padding: 0px;"><code class="cs">using(var box = auto.Cube()){
  //Snapshot...
  box.Commit( ()=>{
    //Serializable...  
  }); 
}</code></pre>

				
                <br>
                <h5>数据持久层</h5>
                <table style="margin: 0px; padding: 0px; width: 100%">
                    <tr>
                        <th>IO</th>
                    </tr>
                    <tr>
                        <td style="margin: 0px; padding: 0px; vertical-align: top;">
                            <pre style="margin: 0px; padding: 0px;"><code class="cs"> <b>BoxFileStreamConfig</b>
 BoxMemoryStreamConfig
 ReadonlyStreamConfig
 CacheStreamConfig </code></pre>
                        </td>
                    </tr>
                </table>

                <br>
                <h5>数据库路径设置</h5>
                C# &amp; JAVA,&nbsp;  把数据库文件放到<b>项目工作目录外</b>会有更好性能
                   <pre><code class="cs">//在虚拟机里，不同的路径有很大的读写速度差别.
//先创建目录，再放入数据库.
//new File(path).mkdirs(); 
//Directory.CreateDirectory(path)
iBoxDB.LocalServer.DB.Root(&quot;/data/&quot;); </code></pre>
在<b>扫描软件</b>中把数据库根目录设置为<b>例外</b>，可以加快读写速度
                  <br> <br>
                ASP.NET Cross Platform
                <pre><code class="cs">iBoxDB.LocalServer.DB.Root(MapPath(&quot;~/App_Data/&quot;));</code></pre>

                <br>
                Xamarin
                <pre><code class="cs">iBoxDB.LocalServer.DB.Root(System.Environment.GetFolderPath( 
       System.Environment.SpecialFolder.Personal));</code></pre>

       <br>
                Unity3D
                <pre><code class="cs">iBoxDB.LocalServer.DB.Root(Application.persistentDataPath);</code></pre>

                <br>
                Android
                <pre><code class="java">iBoxDB.LocalServer.DB.root(android.os.Environment.getDataDirectory()
       .getAbsolutePath() + &quot;/data/&quot; + packageName + &quot;/&quot;); </code></pre>

<br>
                JSP WebApplication
                <pre><code class="java">@WebListener()
public class StartListener implements ServletContextListener {
    @Override
    public void contextInitialized(ServletContextEvent sce) {
       String path = System.getProperty(&quot;user.home&quot;) + &quot;/data/&quot;; 
       new File(path).mkdirs();   
       iBoxDB.LocalServer.DB.root(path); 
    }
} </code></pre>

<br />
                Godot
                <pre><code class="xml">&lt;PackageReference Include=&quot;iBoxDB&quot; Version=&quot;&quot; /&gt;  
var dir = Godot.OS.GetUserDataDir();
dir = Path.Combine(dir, &quot;DBROOT&quot;);
Directory.CreateDirectory(dir);
DB.Root(dir)</code></pre>

				<br />
                jMonkeyEngine
                <pre><code class="java">File dir = JmeSystem.getStorageFolder(StorageFolderType.Internal);
dir = new File(dir, &quot;ProjectName&quot;);
dir = new File(dir, &quot;DatabaseName&quot;);
dir.mkdir();       
DB.root(dir.getAbsolutePath()); </code></pre>

<br>
                <h5>快速入门&nbsp;&nbsp; C# and JAVA</h5>
                <pre><code class="cs"> using IBoxDB.LocalServer;

 var db = new DB();
 db.GetConfig().EnsureTable&lt;Record&gt;(&quot;Table&quot;, &quot;Id&quot;);
 AutoBox auto = db.Open();

 auto.Insert(&quot;Table&quot;, new Record { Id = 1L, Name = &quot;Andy&quot; });
 var record = auto.Get&lt;Record&gt;(&quot;Table&quot;, 1L);
 record.Name = &quot;Kelly&quot;;
 auto.Update(&quot;Table&quot;, record);
 auto.Delete(&quot;Table&quot;, 1L);  </code></pre>
 <br />
             <pre><code class="java"> import iboxdb.localserver.*;

 DB db = new DB();
 db.getConfig().ensureTable(Record.class, &quot;Table&quot;, &quot;Id&quot;);
 AutoBox auto = db.open();

 auto.insert(&quot;Table&quot;, new Record(1L, &quot;Andy&quot;));
 Record record = auto.get(Record.class, &quot;Table&quot;, 1L);
 record.Name = &quot;Kelly&quot;;
 auto.update(&quot;Table&quot;, record);
 auto.delete(&quot;Table&quot;, 1L);  </code></pre>


 				<br />
                <h5>内存使用</h5>
                <pre><code class="java"> DatabaseConfig cfg = db.getConfig();
 //缓存，小于三分一总内存
 cfg.CacheLength = cfg.mb(1024L);
 //移动设备 64MB 
 cfg.CacheLength = cfg.mb(64L);
 //读线程, 在小缓存机器中设置 <b>8+</b>
 cfg.ReadStreamCount = 8;
 //写线程, 在小缓存机器中设置 <b>4-</b> 或者 <b>1</b>
 cfg.WriteStreamCount = 1;</code></pre>


 <br>
         <h5>安装使用</h5>
                <pre><code class="cs">.NET: 在项目中引用 NETDB/iBoxDB.DLL  </code></pre>
                <pre><code class="java">Java: 在项目中引用 JavaDB/iBoxDB.jar </code></pre>
                 
                 <br>
                <h5>与 MySQL 的性能参照</h5>
                  <pre><code class="sql">iBoxDB
 Insert: 1,000,000 AVG: 47,016 objects/s 
 Update: 1,000,000 AVG: 25,558 objects/s 
 Delete: 1,000,000 AVG: 42,714 objects/s 

MySQL
 Insert: 1,000,000 AVG: 5,514 objects/s 
 Update: 1,000,000 AVG: 5,109 objects/s 
 Delete: 1,000,000 AVG: 6,044 objects/s 
</code></pre>


<br>
                <h5>数据类型支持</h5>
                <table style="margin: 0px; padding: 0px; width: 100%;">
                    <tr>
                        <th >.NET </th>
                        <th >JAVA </th>
                    </tr>
                    <tr>
                        <td style="margin: 0px; padding: 0px; vertical-align: top;">
                            <pre style="margin: 0px; padding: 0px; font-size:13px"><code class="diff"> bool
 char
 byte
 sbyte
 short 
 ushort
 int
 uint
 long
 ulong
 float
 double
 decimal
 DateTime
 Guid
         
 bool? 
 char? 
 byte? 
 sbyte? 
 short?
 ushort? 
 int? 
 uint? 
 long? 
 ulong?
 float? 
 double? 
 decimal?
 DateTime?
 Guid? 
 string 
       
 //non indexable
 Dictionary
 &lt;string, object&gt;
 MemoryStream
 byte[]
 string[]
 <!--
 bool[] 
 char[]
 sbyte[] 
 short[]
 ushort[] 
 int[] 
 uint[] 
 long[]
 ulong[]
 float[]
 double[] 
 decimal[] 
 DateTime[] 
 Guid[]--> </code></pre>
                        </td>

                        <td style="margin: 0px; padding: 0px; vertical-align: top;">
                            <pre style="margin: 0px; padding: 0px; font-size:13px"><code class="diff"> boolean 
 Boolean
 byte 
 Byte
 char 
 Character
 short 
 Short
 int 
 Integer
 long 
 Long
 float
 Float
 double
 Double
 UUID
 Date

 //dynamic length
 BigDecimal
 BigInteger
 String
 
 //non indexable
 HashMap
 &lt;String, Object&gt;
 MemoryStream
 byte[]
 Object[]










</code></pre>
                        </td>
                    </tr>
                    <tr>
                        <th colspan="2"> ORM </th>
                    </tr>
                    <tr>
                    <td style="margin: 0px; padding: 0px; vertical-align: top;">
                            <pre style="margin: 0px; padding: 0px; font-size:13px">
<code class="cs">//Name
*.Name

//name
*.name




</code></pre>                           
                    </td>         
                    <td style="margin: 0px; padding: 0px; vertical-align: top;">
                            <pre style="margin: 0px; padding: 0px; font-size:13px">
<code class="java">//Name
*.Name
*.Name(val)
*.setName(val)

//name
*.name
*.name(val)
*.setname(val)</code></pre>
                    </td>
                    </tr>
                </table>
                <pre><code class="java"> DatabaseConfig cfg;
 //创建表
 ensureTable(Record.class, &quot;Table&quot;, &quot;Id&quot;);
 //创建长度为 32 的索引
 ensureIndex(Record.class, &quot;Table&quot;, &quot;Name(32)&quot;);

 //如果要索引 byte[] 或其它, 
 //使用 ToBase64String(byte[]) 转换为字符串 String. </code></pre>

<br />
 				<h5>.NET AOT 注册类型</h5>
<pre><code class="cs"> public static object Register
  &lt;[DynamicallyAccessedMembers(DynamicallyAccessedMemberTypes.All)] T&gt;() 
  where T : new()
 {
   return new T();
 }
 //触发 DynamicallyAccessedMemberTypes.All
 Register&lt;T1&gt;();
 EnsureTable&lt;T1&gt;(&quot;T1&quot;, &quot;Id&quot;); </code></pre>


                <br />
                <!-- img src="images/p1.png" alt="iBoxDB Fast Transactional NoSQL Application Database Replication" / -->
				<h5>全平台支持</h5>		
                <img src="images/p3.png" alt="iBoxDB Fast Transactional NoSQL Application Database For Java, .Net, Android, Windows Phone, Mono, Unity3D, Xamarin, Linux, Windows" />

            </div>
        </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer" style="border-top-style: solid; border-top-width: medium; border-top-color: #33CC00">
        <footer class="inner">
            <p class="copyright">
                双引擎数据库
                <br />
                支持 &nbsp; JAVA &nbsp; C# &nbsp; Android &nbsp; Unity3D &nbsp; Xamarin &nbsp; Mono &nbsp; ASP.NET Core &nbsp; Linux
                                <br />
                NoSQL Storage Engines Home&nbsp; <a href="index.html" style="color: #FFFFFF; text-decoration: underline;">www.iBoxDB.com</a>
            </p>



            <br />
            <br />
        </footer>
    </div>
    <div class="outer" style="position: relative; top: -50px; left: -1px">
       
    </div>
    <script src="highlight/highlight.packS.jS?SRC=USER"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    
</body>
</html>
